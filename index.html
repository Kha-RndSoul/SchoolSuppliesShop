<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Thiên Long - Hero Slider</title>
  <link rel="stylesheet" href="src/main/webapp/assets/css/style-common.css" />
  <style>
    /* Slider-specific overrides only — relies on variables and base styles from style-common.css */
    :root{
      --max-width: 1200px; /* added to resolve "Cannot resolve '--max-width'" */
      --slide-height: 60vh;
      --slider-shadow: 0 8px 24px rgba(0,0,0,.12);
      --accent: #0b5ed7; /* fallback if not defined in common */
    }

    .hero { max-width: var(--max-width, 1200px); margin: 22px auto; padding: 0 14px; }

    .slider {
      position: relative;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: var(--slider-shadow);
      background: #111;
    }

    .slides { display: flex; transition:transform .6s ease; will-change: transform; }
    .slide {
      min-width: 100%;
      height: var(--slide-height);
      position: relative;
      display: flex;
      align-items: center;
      gap: 24px;
      padding: 28px;
      color: #fff;
    }

    .slide::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(0,0,0,.15) 0%, rgba(0,0,0,.45) 70%);
      pointer-events: none;
    }

    .slide__content { position: relative; z-index: 2; max-width: 55%; }
    .promo { font-size: 14px; opacity: .92; margin-bottom: 8px; }
    .title { font-size: 28px; margin: 0 0 8px 0; line-height: 1.05; font-weight: 700; }
    .desc { margin: 0 0 14px 0; color: rgba(255,255,255,.9); }

    .btn { display: inline-block; padding: 10px 14px; background: var(--accent); color: #fff; border-radius: 8px; text-decoration: none; font-weight: 600; }

    .product-img { position: relative; z-index: 2; max-width: 38%; display: flex; justify-content: center; align-items: center; }
    .product-img img { max-width: 100%; height: 260px; object-fit: contain; border-radius: 8px; background: #fff; padding: 8px; }

    .nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,.45);
      color: #fff;
      border: 0;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      z-index: 5;
    }
    .nav.prev { left: 12px; }
    .nav.next { right: 12px; }
    .nav:focus { outline: 3px solid rgba(255,255,255,.12); }

    .dots { position: absolute; left: 50%; transform: translateX(-50%); bottom: 12px; display: flex; gap: 8px; z-index: 6; }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,.6); border: 0; cursor: pointer; }
    .dot.active { background: #fff; box-shadow: 0 0 0 3px rgba(11,94,215,.12); }

    @media (max-width: 900px) {
      .slide { flex-direction: column; align-items: flex-end; height: 46vh; padding: 20px; }
      .slide__content { max-width: 100%; text-align: right; }
      .product-img { max-width: 100%; }
      .product-img img { height: 160px; }
      .title { font-size: 20px; }
    }

    @media (prefers-reduced-motion: reduce) {
      .slides { transition: none; }
    }
  </style>
</head>
<body>
<header class="site-header">
  <div class="container">
    <h1>Thiên Long - Đồ dùng học tập</h1>
  </div>
</header>

<main class="hero">
  <div class="slider" id="slider" aria-roledescription="carousel" aria-label="Hero slides">
    <div class="slides" id="slides">
      <section class="slide" style="background-image:url('https://images.unsplash.com/photo-1520975869014-7b99a08b2e9f?auto=format&fit=crop&w=1600&q=60'); background-size:cover;">
        <div class="slide__content">
          <div class="promo">Ưu đãi mùa tựu trường</div>
          <h2 class="title">Bút gel Thiên Long - Mượt, bền</h2>
          <p class="desc">Giảm 15% cho hóa đơn đầu tiên. Viết mượt, khô nhanh.</p>
          <a class="btn" href="products.html">Mua ngay</a>
        </div>
        <div class="product-img"><img src="https://via.placeholder.com/360x240?text=Bút+Gel" alt="Bút gel Thiên Long"></div>
      </section>

      <section class="slide" style="background-image:url('https://images.unsplash.com/photo-1526406915891-7fed4b2b7c4d?auto=format&fit=crop&w=1600&q=60'); background-size:cover;">
        <div class="slide__content">
          <div class="promo">Combo tiết kiệm</div>
          <h2 class="title">Vở kẻ ngang - Bìa cứng</h2>
          <p class="desc">Mua 2 tặng 1 cho vở 100 trang. Chất giấy tốt, viết không lem.</p>
          <a class="btn" href="products.html">Mua ngay</a>
        </div>
        <div class="product-img"><img src="https://via.placeholder.com/360x240?text=Vở+Kẻ+Ngang" alt="Vở kẻ ngang"></div>
      </section>

      <section class="slide" style="background-image:url('https://images.unsplash.com/photo-1581091870622-3a3b27a9a0f3?auto=format&fit=crop&w=1600&q=60'); background-size:cover;">
        <div class="slide__content">
          <div class="promo">Mới</div>
          <h2 class="title">Hộp bút 12 màu</h2>
          <p class="desc">Màu sắc tươi sáng, an toàn cho trẻ em.</p>
          <a class="btn" href="products.html">Mua ngay</a>
        </div>
        <div class="product-img"><img src="https://via.placeholder.com/360x240?text=Bút+Màu" alt="Bút màu"></div>
      </section>

      <section class="slide" style="background-image:url('https://images.unsplash.com/photo-1532012197267-da84d127e765?auto=format&fit=crop&w=1600&q=60'); background-size:cover;">
        <div class="slide__content">
          <div class="promo">Giá tốt</div>
          <h2 class="title">Tẩy cao su chất lượng</h2>
          <p class="desc">Không để lại vết, dễ dùng cho mọi loại giấy.</p>
          <a class="btn" href="products.html">Mua ngay</a>
        </div>
        <div class="product-img"><img src="https://via.placeholder.com/360x240?text=Tẩy+Cao+Su" alt="Tẩy cao su"></div>
      </section>

      <section class="slide" style="background-image:url('https://images.unsplash.com/photo-1515879218367-8466d910aaa4?auto=format&fit=crop&w=1600&q=60'); background-size:cover;">
        <div class="slide__content">
          <div class="promo">Hàng bán chạy</div>
          <h2 class="title">Bút chì HB - Độ bền cao</h2>
          <p class="desc">Phù hợp làm bài kiểm tra, luyện vẽ cơ bản.</p>
          <a class="btn" href="products.html">Mua ngay</a>
        </div>
        <div class="product-img"><img src="https://via.placeholder.com/360x240?text=Bút+Chì" alt="Bút chì HB"></div>
      </section>
    </div>

    <button class="nav prev" id="prev" aria-label="Previous slide">‹</button>
    <button class="nav next" id="next" aria-label="Next slide">›</button>
    <div class="dots" id="dots" role="tablist" aria-label="Slide navigation"></div>
  </div>
</main>

<script>
  (function(){
    const slidesEl = document.getElementById('slides');
    const slides = Array.from(slidesEl.children);
    const prev = document.getElementById('prev');
    const next = document.getElementById('next');
    const dotsEl = document.getElementById('dots');
    let index = 0;
    const interval = 4500;
    let timer = null;

    // create dots
    slides.forEach((_, i) => {
      const d = document.createElement('button');
      d.className = 'dot';
      d.setAttribute('aria-label', 'Go to slide ' + (i+1));
      d.dataset.index = i;
      dotsEl.appendChild(d);
    });
    const dots = Array.from(dotsEl.children);

    function update() {
      slidesEl.style.transform = `translateX(-${index*100}%)`;
      dots.forEach((d,i) => d.classList.toggle('active', i === index));
    }

    function goTo(n) {
      index = (n + slides.length) % slides.length;
      update();
    }

    prev.addEventListener('click', () => { goTo(index - 1); resetAuto(); });
    next.addEventListener('click', () => { goTo(index + 1); resetAuto(); });
    dots.forEach(d => d.addEventListener('click', (e) => { goTo(Number(e.currentTarget.dataset.index)); resetAuto(); }));

    // keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { goTo(index - 1); resetAuto(); }
      if (e.key === 'ArrowRight') { goTo(index + 1); resetAuto(); }
    });

    function startAuto(){ timer = setInterval(()=> goTo(index + 1), interval); }
    function stopAuto(){ clearInterval(timer); timer = null; }
    function resetAuto(){ stopAuto(); startAuto(); }

    // pause on hover/focus
    const slider = document.getElementById('slider');
    slider.addEventListener('mouseenter', stopAuto);
    slider.addEventListener('mouseleave', startAuto);
    slider.addEventListener('focusin', stopAuto);
    slider.addEventListener('focusout', startAuto);

    // init
    update();
    startAuto();
  })();
</script>
</body>
</html>